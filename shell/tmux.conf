# ------------------------------------------------------------------------------
# General
# ------------------------------------------------------------------------------
set -g default-terminal "xterm-256color"          # Use xterm-256color terminal
set-option -ga terminal-overrides ",*256col*:Tc"  # RGB 24-bit colour support

set -g history-limit 5000                         # Boost history limit
set -s escape-time 10                             # Faster command sequences
set -sg repeat-time 600                           # Increase repeat timeout

unbind C-b                                        # Free the original C-b prefix
set -g prefix C-a                                 # Set the prefix to C-a
bind C-a send-prefix                              # Send C-a to other apps

setw -q -g utf8 on                                # Enable UTF-8 support
setw -g mode-keys vi                              # Enable vi keys
set -g mouse off                                  # Disable mouse
bind C-s set-window-option synchronize-panes      # Toggle syncronize-panes

set -g visual-activity on                         # Visual activity alerts
setw -g monitor-activity on                       # Monitor activity alerts

bind r source-file ~/.tmux.conf \; display-message "Reloaded"

# ------------------------------------------------------------------------------
# Display
# ------------------------------------------------------------------------------
set -g base-index 1                               # Count windows from one
setw -g pane-base-index 1                         # Count panes from one
set -g renumber-windows on                        # Renumber when closing window
set -g status-interval 10                         # Redraw status every 10s

# ------------------------------------------------------------------------------
# UI & Navigation
# ------------------------------------------------------------------------------
# Split windows with | and -, retaining current directory
bind | split-window -h -c "#{pane_current_path}"
bind - split-window -v -c "#{pane_current_path}"

# Move among panes with h, j, k and l
bind h select-pane -L
bind j select-pane -D
bind k select-pane -U
bind l select-pane -R

# Select windows
bind -r C-h select-window -t :-
bind -r C-l select-window -t :+

# Resize panes
bind -r H resize-pane -L 5
bind -r J resize-pane -D 5
bind -r K resize-pane -U 5
bind -r L resize-pane -R 5

# ------------------------------------------------------------------------------
# Colors
# ------------------------------------------------------------------------------
set -g status-style fg=colour7,bg=colour0           # Status line
set -g window-status-style fg=colour15              # Window list colors
set -g window-status-current-style fg=colour3,bold  # Active window
set -g message-style fg=colour15                    # Command line
setw -g pane-border-style fg=colour8                # Pane borders
setw -g pane-active-border-style fg=colour8         # Pane borders

# ------------------------------------------------------------------------------
# Status line
# ------------------------------------------------------------------------------
set -g status-justify left
set -g status-left '#[fg=colour5]‚ùê #S '
set -g status-right-length 200
set -g status-right "#[fg=colour7]#(dig +short myip.opendns.com @resolver1.opendns.com) #[fg=colour8]| #[fg=colour7]#(date '+%a %b %d %H:%M') #[fg=colour8]| #[fg=colour6]#(curl wttr.in?format=1)"
